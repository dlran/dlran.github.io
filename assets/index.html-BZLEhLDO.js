import{_ as s,c as a,a as e,o as h}from"./app-IQP6oqm1.js";const t={};function n(l,i){return h(),a("div",null,i[0]||(i[0]=[e(`<h2 id="转换-png-为-jpg-并按比例缩放" tabindex="-1"><a class="header-anchor" href="#转换-png-为-jpg-并按比例缩放"><span><strong>转换 PNG 为 JPG，并按比例缩放</strong></span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.png</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">scale=800:-1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.jpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这条命令会：</p><ul><li><code>-i input.png</code> 指定输入文件</li><li><code>-vf &quot;scale=800:-1&quot;</code> 让宽度变为 800，高度自适应（等比缩放）</li><li><code>output.jpg</code> 生成 JPG 文件</li></ul><h2 id="批量转换-png-为-jpg" tabindex="-1"><a class="header-anchor" href="#批量转换-png-为-jpg"><span><strong>批量转换 PNG 为 JPG</strong></span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jpg_output</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">for</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> img</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> *.png</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> do</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$img</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">scale=800:-1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">jpg_output/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">img</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">%</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.png</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.jpg</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="将-heic-文件转换为-jpg-格式" tabindex="-1"><a class="header-anchor" href="#将-heic-文件转换为-jpg-格式"><span>将 HEIC 文件转换为 JPG 格式</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.heic</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.jpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查看到当前环境中默认的视频编码器选项" tabindex="-1"><a class="header-anchor" href="#查看到当前环境中默认的视频编码器选项"><span>查看到当前环境中默认的视频编码器选项</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -encoders</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -encoders</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> grep</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libx264</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="指定使用-x264-编码器进行视频编码" tabindex="-1"><a class="header-anchor" href="#指定使用-x264-编码器进行视频编码"><span>指定使用 x264 编码器进行视频编码</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c:v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libx264</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="拼接多个mp4视频文件" tabindex="-1"><a class="header-anchor" href="#拼接多个mp4视频文件"><span>拼接多个MP4视频文件</span></a></h2><ol><li><p><strong>创建一个文本文件</strong>，列出要拼接的MP4文件的路径。每行一个文件，类似于这样：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>file &#39;video1.mp4&#39;</span></span>
<span class="line"><span>file &#39;video2.mp4&#39;</span></span>
<span class="line"><span>file &#39;video3.mp4&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将这个文件保存为一个文本文件，例如<code>input.txt</code>。</p></li><li><p><strong>运行FFmpeg命令</strong>，使用<code>concat</code>协议拼接这些文件。以下是一个示例命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> concat</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -safe</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.txt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> copy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>-f concat</code>: 指定使用<code>concat</code>协议。</li><li><code>-safe 0</code>: 允许使用相对路径。</li><li><code>-i input.txt</code>: 指定包含要拼接的文件列表的文本文件。</li><li><code>-c copy</code>: 表示使用原始编解码参数进行拼接，这样可以避免重新编码。</li><li><code>output.mp4</code>: 指定输出文件的名称。</li></ul></li><li><p><strong>执行命令</strong>，等待FFmpeg完成拼接操作。</p></li></ol><p>这个命令将在不重新编码的情况下拼接输入的MP4文件，这有助于保持视频质量。如果视频文件的编解码参数不同，可能需要重新编码以确保一致性。</p><p>请注意，这个方法要求要拼接的视频文件的编解码参数（分辨率、帧率等）必须一致。如果不一致，可能需要先进行转码以保持一致性。</p><h2 id="ffprobe-用于获取多媒体文件的详细信息" tabindex="-1"><a class="header-anchor" href="#ffprobe-用于获取多媒体文件的详细信息"><span><code>ffprobe</code> 用于获取多媒体文件的详细信息</span></a></h2><ol><li><p>获取所有信息：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffprobe</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>只显示流信息：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffprobe</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -show_streams</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffprobe</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://example.com/path/to/playlist.m3u8</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -show_streams</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -select_streams</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> v</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>以 JSON 格式输出：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffprobe</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> quiet</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -print_format</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> json</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -show_format</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -show_streams</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="修改-mkv-文件的标题-title-和描述-description" tabindex="-1"><a class="header-anchor" href="#修改-mkv-文件的标题-title-和描述-description"><span>修改 MKV 文件的标题（title）和描述（description）</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mkv</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -metadata</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> title=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">New Title</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -metadata</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> description=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">New Description</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> copy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mkv</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,20)]))}const p=s(t,[["render",n]]),d=JSON.parse('{"path":"/article/qjie93ad/","title":"FFmpeg 使用记录","lang":"zh-CN","frontmatter":{"title":"FFmpeg 使用记录","tags":["Shell"],"createTime":"2020/06/18 12:35:00","permalink":"/article/qjie93ad/"},"readingTime":{"minutes":1.85,"words":555},"git":{},"filePathRelative":"Code/FFMpegExample.md","headers":[],"categoryList":[{"id":"ca0dba","sort":10000,"name":"Code"}]}');export{p as comp,d as data};
